
<%layout("../layouts/boilerplate.ejs")%>

<body>
    <div class="row">


    <div class=" col-12 mt-3 mb-4 offset-0 offset-md-2  col-md-8">
        <h3 class="mb-3 mt-3">Edit  your listing</h3>
    <form action="/listings/<%=listing.id%>?_method=PUT" method="post" class="form needs-validation" novalidate enctype="multipart/form-data" >
    <div class="mb-2">
        <label for="title">   Title: </label>
        <input type="text" name="listing[title]" id="title" value="<%=listing.title%>" class="form-control" required>
        <div class="valid-feedback">
            Title looks good
        </div>
        <div class="invalid-feedback">Please enter Valid Title</div>
    </div>
    <div class="mb-2" >
        <label for="description"> Description:</label>
        
        <textarea name="listing[description]" id="description"  class="form-control" required><%=listing.description%></textarea> 
        <div class="invalid-feedback">please enter Description</div>
    </div>
    <div class="mb-2">
        <label for="category">category</label>
    <div class="mb-2">
<label for="category">category</label>
<%for(category of categories){%>
    <label ><input type="checkbox" name="listing[category]" class="form-check-input " value= <%=category%> <%if(listing.category.includes(category)){%>
        checked <%}%> > <%=category%> </label>
<%}%>


</div>
    <div class="mb-2 row-cols-md-2">
        Existing listing Image :
        <br>
        <img src="<%=resizedUrl%>" alt="" class="listimg">
        

    </div>
    <div class="mb-2">
        <label for="url"> Upload new Image :</label>
        <input type="file" name="listing[image]" class="form-control" >
         <!-- <textarea name="listing[image][url]" id="url" id="" class="form-control" rows="5" type="file"></textarea> -->
    </div>
    <div class="mb-2">
        <label for="price">  Price :</label>
        <input type="number" name="listing[price]" id="price" value="<%=listing.price%>" class="form-control" required >
    <div class="invalid-feedback">Please enter valid Price</div>
    
    </div> 


    <div class="row">
        <div class="mb-3 col-md-5">
        <label for="location"> Location :</label>
       <input type="text" id="location" name="listing[location]" value="<%=listing.location%>" class="form-control" required>
    <div class="invalid-feedback">Please enter valid location</div>
    
    </div>
        <div class="mb-3 col-md-7">
        <label for="country"> Country:</label>
        <input type="text" id="country" name="listing[country]" value="<%=listing.country%>" class="form-control" required>
            <div class="invalid-feedback">Please enter valid Country</div>
    </div>


    </div>
        <button class="btn btn-dark edit-btn">Edit</button>
    </form>
</div>
</div>
</body>
